{let e=function(){let e=$("#new-comment-form");e.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/comments/create",data:e.serialize(),success:function(e){console.log(e);let o=n(e.data.comment);$("#post-comments-list>ul").append(o),t($(" .delete-comment-btn",o)),new ToggleLike($(" .toggle-like-btn",o))},error:function(e){console.log(e)}})}))},n=function(e){return $(`<li id = "comment-${e._id}">\n      <p>\n        <small>\n          <a class="delete-comment-btn" href="/comments/destroy/<%=comment.id%>">X</a>\n        </small>\n    \n        ${e.content}\n        <br />\n        <small>${e.user.name} </small>\n      </p>\n      <small>\n        <a class = "toggle-like-btn" href="/likes/toggle/?id=${e._id}&type=Comment">\n    0 Likes</a\n  >\n        </small>\n    </li>\n    `)},t=function(e){$(e).click((function(n){n.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$("#comment-"+e.data.comment_id).remove()},error:function(e){console.log(e)}})}))},o=function(){let e=$(".delete-comment-btn");for(deleteLink of e)t(deleteLink)};e(),o()}